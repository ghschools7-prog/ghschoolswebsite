<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Student Portal - GH TECHNICAL UNIVERSITY</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    :root {
      --primary: #ff6b00;
      --secondary: #ff6600;
      --accent: #ff6200;
      --light: #fffaf0;
      --dark: #1a1a1a;
      --success: #10b981;
      --warning: #ff5500;
      --error: #ef4444;
      --gray-100: #f8fafc;
      --gray-200: #e2e8f0;
      --gray-300: #cbd5e1;
      --gray-600: #475569;
      --gray-700: #334155;
      --gradient-primary: linear-gradient(135deg, #ff6b00, #ff8a00, #ff5a00);
      --gradient-secondary: linear-gradient(135deg, #ff8a00 0%, #ff6b00 100%);
      --gradient-accent: linear-gradient(135deg, #ff6b01, #ff6a00);
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.993);
      --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.991);
      --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.999);
      --shadow-xl: 0 25px 50px rgba(0, 0, 0, 0.995);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --radius-2xl: 32px;
      --transition-fast: 0.2s ease;
      --transition-normal: 0.3s ease;
      --transition-slow: 0.5s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    /* Prevent mobile browsers from auto-adjusting text size (stops zoom-on-focus behavior) */
    html, body {
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    }
    
    body {
      background: radial-gradient(circle at 10% 20%, rgba(255, 235, 210, 0.4) 0%, rgba(255, 250, 240, 0.2) 20%, #ffffff 60%), 
                  linear-gradient(180deg, #ffffff 0%, #fffaf0 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
      color: var(--dark);
      position: relative;
      overflow-x: hidden;
    }
    
    /* Background decorative elements */
    body::before {
      content: "";
      position: absolute;
      width: 500px;
      height: 500px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(255, 107, 0, 0.05) 0%, rgba(255, 138, 0, 0.05) 100%);
      top: -250px;
      right: -250px;
      z-index: -1;
    }
    
    body::after {
      content: "";
      position: absolute;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(255, 209, 102, 0.05) 0%, rgba(255, 138, 0, 0.05) 100%);
      bottom: -150px;
      left: -150px;
      z-index: -1;
    }
    
    .container {
      display: flex;
      width: 100%;
      max-width: 1100px;
      background: white;
      border-radius: var(--radius-2xl);
      overflow: hidden;
      box-shadow: var(--shadow-xl);
      min-height: 680px;
      position: relative;
      z-index: 1;
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
    }
    
    .left-section {
      flex: 1.2;
      background: linear-gradient(135deg, rgba(255, 107, 0, 0.95) 0%, rgba(255, 138, 0, 0.95) 70%, rgba(255, 209, 102, 0.8) 100%);
      color: white;
      padding: 40px 32px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    
    .left-section::before {
      content: "";
      position: absolute;
      width: 400px;
      height: 400px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
      top: -150px;
      left: -150px;
      animation: float 20s infinite ease-in-out;
    }
    
    .left-section::after {
      content: "";
      position: absolute;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
      bottom: -120px;
      right: -120px;
      animation: float 25s infinite ease-in-out reverse;
    }
    
    .logo {
      display: flex;
      align-items: center;
      margin-bottom: 32px;
      z-index: 1;
      position: relative;
      animation: fadeIn 0.8s ease-out;
    }
    
    .logo-icon {
      width: 60px;
      height: 60px;
      margin-right: 18px;
      background: white;
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow-md);
      transition: transform var(--transition-normal);
      flex-shrink: 0;
    }
    
    .logo-icon:hover {
      transform: rotate(10deg) scale(1.05);
    }
    
    .logo-icon img {
      width: 40px;
      height: 40px;
    }
    
    .logo h1 {
      font-size: 26px;
      font-weight: 700;
      letter-spacing: -0.5px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .logo-subtitle {
      font-size: 14px;
      opacity: 0.9;
      margin-top: 4px;
      font-weight: 400;
    }
    
    .welcome-content {
      z-index: 1;
      position: relative;
      animation: slideUp 0.8s ease-out 0.2s both;
    }
    
    .welcome-content h2 {
      font-size: 36px;
      margin-bottom: 20px;
      font-weight: 700;
      line-height: 1.2;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .welcome-content p {
      font-size: 17px;
      line-height: 1.7;
      margin-bottom: 40px;
      opacity: 0.95;
      max-width: 90%;
    }
    
    .features-container {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-top: 30px;
      z-index: 1;
      position: relative;
    }
    
    .feature {
      padding: 24px;
      background: rgba(255, 255, 255, 0.15);
      border-radius: var(--radius-lg);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all var(--transition-normal);
      animation: fadeIn 0.6s ease-out forwards;
      opacity: 0;
    }
    
    .feature:nth-child(1) { animation-delay: 0.3s; }
    .feature:nth-child(2) { animation-delay: 0.4s; }
    .feature:nth-child(3) { animation-delay: 0.5s; }
    .feature:nth-child(4) { animation-delay: 0.6s; }
    
    .feature:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.25);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    
    .feature-icon {
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
      flex-shrink: 0;
    }
    
    .feature i {
      font-size: 22px;
      color: white;
    }
    
    .feature h3 {
      font-size: 18px;
      margin-bottom: 10px;
      font-weight: 600;
    }
    
    .feature p {
      font-size: 14px;
      opacity: 0.9;
      line-height: 1.5;
    }
    
    .right-section {
      flex: 1;
      padding: 40px 32px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      background: var(--gray-100);
      position: relative;
    }
    
    .right-section::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: var(--gradient-primary);
    }
    
    .main-header {
      text-align: center;
      margin-bottom: 40px;
      animation: fadeIn 0.8s ease-out;
    }
    
    .main-header h2 {
      font-size: 36px;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 10px;
      font-weight: 700;
      letter-spacing: -0.5px;
    }
    
    .main-header p {
      color: var(--gray-600);
      font-size: 16px;
      max-width: 500px;
      margin: 0 auto;
      line-height: 1.6;
    }
    
    /* Password generator card - Main Form */
    .gen-card {
      max-width: 500px;
      margin: 0 auto;
      background: white;
      padding: 32px;
      border-radius: var(--radius-xl);
      border: 1px solid var(--gray-200);
      box-shadow: var(--shadow-lg);
      transition: transform var(--transition-normal), box-shadow var(--transition-normal);
      animation: slideUp 0.6s ease-out 0.3s both;
      width: 100%;
    }
    
    .gen-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-xl);
    }
    
    .gen-card-header {
      display: flex;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--gray-200);
    }
    
    .gen-card-header i {
      font-size: 24px;
      color: var(--primary);
      margin-right: 16px;
      background: rgba(255, 107, 0, 0.1);
      width: 56px;
      height: 56px;
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    
    .gen-card-header h3 {
      font-size: 22px;
      color: var(--dark);
      font-weight: 700;
    }
    
    .gen-card-header p {
      font-size: 14px;
      color: var(--gray-600);
      margin-top: 5px;
    }
    
    #generate-password-form .form-group {
      margin-bottom: 24px;
    }
    
    .gen-instruction {
      font-size: 14px;
      color: var(--gray-600);
      line-height: 1.6;
      margin-top: 24px;
      padding: 16px;
      background: rgba(255, 107, 0, 0.05);
      border-radius: var(--radius-md);
      border-left: 3px solid var(--primary);
    }
    
    .btn-generate {
      width: 100%;
      padding: 18px;
      background: var(--gradient-primary);
      color: white;
      border: none;
      border-radius: var(--radius-lg);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-normal);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      box-shadow: 0 8px 25px rgba(255, 107, 0, 0.3);
      font-size: 17px;
      margin-top: 10px;
      letter-spacing: 0.5px;
    }
    
    .btn-generate:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(255, 107, 0, 0.4);
    }
    
    .btn-generate:active {
      transform: translateY(-1px);
    }
    
    .form-group {
      margin-bottom: 28px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 500;
      color: var(--dark);
      font-size: 16px;
    }
    
    .input-with-icon {
      position: relative;
    }
    
    .input-with-icon i {
      position: absolute;
      left: 18px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray-600);
      z-index: 1;
    }
    
    .input-with-icon input {
      width: 100%;
      padding: 16px 18px 16px 52px;
      border: 2px solid var(--gray-200);
      border-radius: var(--radius-lg);
      font-size: 16px;
      transition: all var(--transition-normal);
      background: white;
      color: var(--dark);
      font-weight: 500;
    }
    
    .input-with-icon input:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 4px rgba(255, 107, 0, 0.15);
    }
    
    .input-with-icon input:valid:not(:placeholder-shown) {
      border-color: var(--success);
    }
    
    .info-box {
      background: linear-gradient(135deg, rgba(255, 107, 0, 0.05) 0%, rgba(255, 138, 0, 0.05) 100%);
      border-left: 4px solid var(--primary);
      padding: 24px;
      border-radius: var(--radius-lg);
      margin-top: 40px;
      animation: fadeIn 0.8s ease-out 0.4s both;
    }
    
    .info-box h3 {
      color: var(--primary);
      margin-bottom: 16px;
      font-weight: 600;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .info-box h3 i {
      font-size: 20px;
    }
    
    .info-box ul {
      list-style: none;
      padding-left: 0;
    }
    
    .info-box li {
      margin-bottom: 12px;
      font-size: 15px;
      color: var(--gray-700);
      line-height: 1.6;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }
    
    .info-box li i {
      color: var(--primary);
      margin-top: 3px;
      flex-shrink: 0;
    }
    
    /* Loading Screen */
    #loadingOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(15, 23, 42, 0.95);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      backdrop-filter: blur(8px);
    }
    
    .loading-content {
      text-align: center;
      color: white;
      max-width: 500px;
      padding: 40px;
    }
    
    .loading-content img {
      width: 120px;
      height: 120px;
      margin-bottom: 24px;
      border-radius: 50%;
      border: 4px solid rgba(255, 255, 255, 0.2);
      animation: pulse 2s infinite;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }
    
    .loading-content h2 {
      margin-bottom: 16px;
      font-size: 32px;
      font-weight: 700;
      background: linear-gradient(135deg, #ff8a00, #ffd166);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .loading-content p {
      margin-bottom: 30px;
      font-size: 18px;
      line-height: 1.6;
      opacity: 0.9;
    }
    
    .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }
    
    /* Modals - Enhanced */
    #foundStudentModal, #generatedPasswordModal {
      display: none;
      position: fixed;
      inset: 0;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.7);
      z-index: 99999;
      backdrop-filter: blur(8px);
      animation: fadeIn 0.3s ease-out;
      padding: 16px;
      overflow: auto;
    }
    
    /* Found Student Modal */
    #foundStudentModal > div {
      background: white;
      padding: 28px;
      border-radius: var(--radius-xl);
      max-width: 480px;
      width: 100%;
      box-shadow: var(--shadow-xl);
      border: 1px solid rgba(255, 255, 255, 0.2);
      animation: slideUp 0.4s ease-out;
      box-sizing: border-box;
      max-height: calc(100vh - 32px);
      overflow-y: auto;
    }
    
    #foundStudentModal h3 {
      margin: 0 0 20px 0;
      color: var(--primary);
      font-size: 22px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    #foundStudentModal h3 i {
      color: var(--success);
    }
    
    #foundStudentBody {
      color: var(--gray-700);
      font-size: 15px;
      line-height: 1.7;
      margin-bottom: 24px;
      padding: 20px;
      background: var(--gray-100);
      border-radius: var(--radius-lg);
      border: 1px solid var(--gray-200);
    }
    
    #foundStudentBody div {
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px dashed var(--gray-300);
    }
    
    #foundStudentBody div:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }
    
    #foundStudentBody strong {
      color: var(--dark);
      min-width: 120px;
      display: inline-block;
    }
    
    #foundOkBtn, #closeFoundModal {
      background: var(--gradient-primary);
      color: white;
      border: none;
      padding: 12px 28px;
      border-radius: var(--radius-lg);
      cursor: pointer;
      font-weight: 600;
      transition: all var(--transition-normal);
      box-shadow: 0 6px 15px rgba(255, 107, 0, 0.25);
    }
    
    #closeFoundModal {
      background: var(--gray-600);
      padding: 8px 16px;
      font-size: 20px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }
    
    #foundOkBtn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(255, 107, 0, 0.35);
    }
    
    /* Generated Password Modal */
    #generatedPasswordModal > div {
      background: white;
      padding: 24px;
      border-radius: var(--radius-xl);
      max-width: 560px;
      width: 100%;
      box-shadow: var(--shadow-xl);
      border: 1px solid rgba(255, 255, 255, 0.2);
      animation: slideUp 0.4s ease-out 0.1s both;
      box-sizing: border-box;
      max-height: calc(100vh - 32px);
      overflow-y: auto;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 24px;
      position: relative;
    }
    
    .modal-title-container {
      display: flex;
      gap: 16px;
      align-items: center;
    }
    
    .modal-icon {
      width: 60px;
      height: 60px;
      border-radius: var(--radius-lg);
      background: var(--gradient-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      font-weight: 700;
      box-shadow: 0 8px 20px rgba(255, 107, 0, 0.3);
      flex-shrink: 0;
    }
    
    .modal-title {
      margin: 0;
      color: var(--primary);
      font-size: 22px;
      font-weight: 700;
    }
    
    .modal-subtitle {
      font-size: 14px;
      color: var(--gray-600);
      margin-top: 4px;
    }
    
    #closeGenModal {
      background: transparent;
      border: none;
      font-size: 28px;
      cursor: pointer;
      color: var(--gray-600);
      transition: color var(--transition-fast);
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      flex-shrink: 0;
      position: absolute;
      right: 0;
      top: 0;
    }
    
    #closeGenModal:hover {
      color: var(--primary);
      background: rgba(255, 107, 0, 0.1);
    }
    
    .password-display-container {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      border-radius: var(--radius-lg);
      padding: 20px;
      margin-bottom: 24px;
      border: 1px solid var(--gray-200);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
    }
    
    .password-info {
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex: 1;
      min-width: 200px;
    }
    
    .password-label {
      font-size: 13px;
      color: var(--gray-600);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }
    
    .password-name {
      font-weight: 700;
      color: var(--dark);
      font-size: 18px;
      word-break: break-word;
    }
    
    .password-id {
      font-size: 14px;
      color: var(--gray-600);
      word-break: break-word;
    }
    
    .password-display {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      flex: 1;
      min-width: 250px;
    }
    
    #generatedPassword {
      font-family: 'Courier New', monospace;
      font-size: 24px;
      background: white;
      padding: 14px 20px;
      border-radius: var(--radius-lg);
      border: 2px solid var(--gray-200);
      color: var(--dark);
      letter-spacing: 2px;
      font-weight: 700;
      width: 100%;
      text-align: center;
      box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.05);
      word-break: break-all;
    }
    
    #genSaveStatus {
      font-size: 13px;
      color: var(--gray-600);
      font-style: italic;
    }
    
    .password-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    #copyPasswordBtn, #usePasswordBtn {
      padding: 12px 24px;
      border-radius: var(--radius-lg);
      cursor: pointer;
      font-weight: 600;
      transition: all var(--transition-normal);
      font-size: 15px;
      flex: 1;
      min-width: 140px;
    }
    
    #copyPasswordBtn {
      background: var(--gradient-primary);
      color: white;
      border: none;
      box-shadow: 0 6px 15px rgba(255, 107, 0, 0.25);
    }
    
    #copyPasswordBtn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(255, 107, 0, 0.35);
    }
    
    #copyPasswordBtn.copied {
      background: var(--success);
    }
    
    #usePasswordBtn {
      background: white;
      border: 2px solid var(--gray-300);
      color: var(--dark);
    }
    
    #usePasswordBtn:hover {
      background: var(--gray-100);
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    
    .modal-footer {
      font-size: 14px;
      color: var(--gray-600);
      line-height: 1.6;
      padding: 16px;
      background: rgba(3, 150, 255, 0.863);
      border-radius: var(--radius-md);
      border-left: 3px solid var(--primary);
      margin-top: 20px;
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(20px);
      }
      to { 
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes float {
      0%, 100% { transform: translate(0, 0); }
      50% { transform: translate(20px, -20px); }
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); box-shadow: 0 5px 15px rgba(255, 107, 0, 0.3); }
      50% { transform: scale(1.05); box-shadow: 0 10px 25px rgba(255, 107, 0, 0.4); }
      100% { transform: scale(1); box-shadow: 0 5px 15px rgba(255, 107, 0, 0.3); }
    }
    
    /* Responsive Design */
    @media (max-width: 1100px) {
      .container {
        max-width: 900px;
      }
      
      .left-section {
        flex: 1;
      }
    }
    
    @media (max-width: 992px) {
      .container {
        flex-direction: column;
        max-width: 700px;
      }
      
      .left-section {
        padding: 36px 28px;
      }
      
      .features-container {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .feature {
        padding: 20px;
      }
      
      .right-section {
        padding: 36px 28px;
      }
    }
    
    @media (max-width: 768px) {
      body {
        padding: 12px;
        align-items: flex-start;
        min-height: 100vh;
        display: block;
      }
      
      .container {
        min-height: auto;
        margin: 0 auto;
        flex-direction: column;
        max-width: 100%;
        border-radius: var(--radius-xl);
      }
      
      .welcome-content h2 {
        font-size: 28px;
      }
      
      .features-container {
        grid-template-columns: 1fr;
        gap: 16px;
      }
      
      .main-header h2 {
        font-size: 28px;
      }
      
      .main-header p {
        font-size: 15px;
      }
      
      .password-display-container {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .password-display {
        align-items: flex-start;
        width: 100%;
        min-width: 100%;
      }
      
      #generatedPassword {
        min-width: 100%;
        font-size: 20px;
        padding: 12px 16px;
      }
      
      .modal-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }
      
      .modal-title-container {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
        width: 100%;
      }
      
      .modal-title {
        font-size: 20px;
      }
      
      #closeGenModal {
        position: absolute;
        right: 0;
        top: 0;
      }
      
      /* Adjust modals for mobile */
      #foundStudentModal, #generatedPasswordModal {
        align-items: flex-start;
        padding-top: 20px;
        padding-bottom: 20px;
      }
      
      #foundStudentModal > div, #generatedPasswordModal > div {
        max-width: calc(100% - 24px);
        padding: 20px;
        border-radius: var(--radius-lg);
        max-height: calc(100vh - 40px);
      }
      
      .password-actions {
        flex-direction: column;
        width: 100%;
      }
      
      #copyPasswordBtn, #usePasswordBtn {
        width: 100%;
        min-width: 100%;
      }
      
      .logo h1 {
        font-size: 22px;
      }
      
      .gen-card {
        padding: 24px;
      }
      
      .gen-card-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }
      
      .gen-card-header i {
        margin-right: 0;
      }
    }
    
    @media (max-width: 576px) {
      body {
        padding: 8px;
      }
      
      .container {
        border-radius: var(--radius-lg);
        margin: 0;
        box-shadow: var(--shadow-md);
      }
      
      .left-section, .right-section {
        padding: 28px 20px;
      }
      
      .welcome-content h2 {
        font-size: 24px;
      }
      
      .welcome-content p {
        font-size: 15px;
        max-width: 100%;
      }
      
      .logo h1 {
        font-size: 20px;
      }
      
      .logo-icon {
        width: 50px;
        height: 50px;
        margin-right: 12px;
      }
      
      .logo-icon img {
        width: 32px;
        height: 32px;
      }
      
      .main-header h2 {
        font-size: 24px;
      }
      
      .main-header p {
        font-size: 14px;
      }
      
      .btn-generate {
        padding: 16px;
        font-size: 16px;
      }
      
      .gen-card {
        padding: 20px;
        border-radius: var(--radius-lg);
      }
      
      .gen-card-header h3 {
        font-size: 20px;
      }
      
      .input-with-icon input {
        padding: 14px 16px 14px 48px;
        font-size: 16px; /* keep >=16px to avoid iOS zoom on focus */
      }
      
      .feature {
        padding: 18px;
      }
      
      .feature h3 {
        font-size: 16px;
      }
      
      .feature p {
        font-size: 13px;
      }
      
      .info-box {
        padding: 20px;
      }
      
      .info-box h3 {
        font-size: 16px;
      }
      
      .info-box li {
        font-size: 14px;
      }
      
      /* Adjust modals for very small screens */
      #foundStudentModal > div, #generatedPasswordModal > div {
        padding: 18px;
        max-width: calc(100% - 16px);
        border-radius: var(--radius-lg);
      }
      
      .modal-title {
        font-size: 18px;
      }
      
      .modal-icon {
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
      
      #generatedPassword {
        font-size: 18px;
        padding: 12px 16px;
      }
      
      .password-name {
        font-size: 16px;
      }
      
      /* Adjust loading screen for mobile */
      .loading-content {
        padding: 24px;
        max-width: 90%;
      }
      
      .loading-content img {
        width: 80px;
        height: 80px;
      }
      
      .loading-content h2 {
        font-size: 24px;
      }
      
      .loading-content p {
        font-size: 16px;
      }
      
      /* Reduce decorative background sizes */
      body::before {
        width: 300px;
        height: 300px;
        top: -150px;
        right: -150px;
      }
      
      body::after {
        width: 200px;
        height: 200px;
        bottom: -100px;
        left: -100px;
      }
    }
    
    @media (max-width: 380px) {
      .left-section, .right-section {
        padding: 24px 16px;
      }
      
      .welcome-content h2 {
        font-size: 22px;
      }
      
      .logo h1 {
        font-size: 18px;
      }
      
      .logo-subtitle {
        font-size: 12px;
      }
      
      .main-header h2 {
        font-size: 22px;
      }
      
      .gen-card {
        padding: 18px 16px;
      }
      
      .gen-card-header h3 {
        font-size: 18px;
      }
      
      .input-with-icon input {
        padding: 12px 14px 12px 44px;
        font-size: 16px; /* keep >=16px to avoid iOS zoom on focus */
      }
      
      .btn-generate {
        padding: 14px;
        font-size: 15px;
      }
      
      #generatedPassword {
        font-size: 16px;
        padding: 10px 14px;
      }
      
      .password-name {
        font-size: 15px;
      }
      
      #copyPasswordBtn, #usePasswordBtn {
        padding: 10px 20px;
        font-size: 14px;
      }
      
      .feature {
        padding: 16px;
      }
      
      .feature-icon {
        width: 40px;
        height: 40px;
        margin-bottom: 12px;
      }
      
      .feature i {
        font-size: 18px;
      }
    }
    /* Ensure all interactive controls use at least 16px on small screens to prevent mobile zoom-on-focus */
    @media (max-width: 768px) {
      input, select, textarea, button {
        font-size: 16px !important;
        -webkit-text-size-adjust: 100%;
      }

      /* Prefer non-zoom behavior for taps on controls */
      a, button, input[type="button"], input[type="submit"] {
        touch-action: manipulation;
      }
    }
    
    /* Utility classes */
    .flex-between {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .text-center {
      text-align: center;
    }
    
    .mt-1 { margin-top: 8px; }
    .mt-2 { margin-top: 16px; }
    .mt-3 { margin-top: 24px; }
    .mt-4 { margin-top: 32px; }
    
    .mb-1 { margin-bottom: 8px; }
    .mb-2 { margin-bottom: 16px; }
    .mb-3 { margin-bottom: 24px; }
    .mb-4 { margin-bottom: 32px; }
    
    /* Touch-friendly improvements */
    @media (hover: none) and (pointer: coarse) {
      .btn-generate, #copyPasswordBtn, #usePasswordBtn, #foundOkBtn {
        min-height: 48px;
      }
      
      .input-with-icon input {
        min-height: 52px;
      }
      
      /* Reduce hover effects on touch devices */
      .feature:hover {
        transform: none;
      }
      
      .btn-generate:hover, #copyPasswordBtn:hover, #usePasswordBtn:hover, #foundOkBtn:hover {
        transform: none;
      }
      
      /* Increase touch target sizes */
      #closeGenModal, #closeFoundModal {
        min-width: 44px;
        min-height: 44px;
      }
    }
  </style>
</head>
<body>
  <!-- Your existing HTML body content remains exactly the same -->
  <div class="container">
    <div class="left-section">
      <div class="logo">
        <div class="logo-icon">
          <img src="https://img.icons8.com/color/96/000000/graduation-cap.png" alt="University Logo">
        </div>
        <div>
          <h1>GH TECHNICAL UNIVERSITY</h1>
          <div class="logo-subtitle">Excellence in Technical Education</div>
        </div>
      </div>
      
      <div class="welcome-content">
        <h2>Student Portal Access</h2>
        <p>Generate your system password or retrieve your existing credentials to access your academic dashboard and university resources.</p>
        
        <div class="features-container">
          <div class="feature">
            <div class="feature-icon">
              <i class="fas fa-key"></i>
            </div>
            <h3>Password Generator</h3>
            <p>Generate secure system passwords using your name and student ID.</p>
          </div>
          <div class="feature">
            <div class="feature-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <h3>Secure Access</h3>
            <p>Your credentials are protected with industry-standard security.</p>
          </div>
          <div class="feature">
            <div class="feature-icon">
              <i class="fas fa-bolt"></i>
            </div>
            <h3>Quick Login</h3>
            <p>Direct access to your dashboard after password generation.</p>
          </div>
          <div class="feature">
            <div class="feature-icon">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <h3>Student Dashboard</h3>
            <p>Access course registrations, grades, and payment history.</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="right-section">
      <div class="main-header">
        <h2>Get Your System Password</h2>
        <p>Enter your full name and student ID to generate or retrieve your system password for dashboard access.</p>
      </div>
      
      <!-- Main Password Generator Form -->
      <div class="gen-card">
        <div class="gen-card-header">
          <i class="fas fa-user-graduate"></i>
          <div>
            <h3>Student Credentials</h3>
            <p>Provide your details to access the system</p>
          </div>
        </div>
        <form id="generate-password-form">
          <div class="form-group">
            <label for="gen-fullname">Full Name</label>
            <div class="input-with-icon">
              <i class="fas fa-user"></i>
              <input type="text" id="gen-fullname" placeholder="eg. OSEI ALEX TWUM" required>
            </div>
          </div>
          <div class="form-group">
            <label for="gen-studentid">Student ID</label>
            <div class="input-with-icon">
              <i class="fas fa-id-card"></i>
              <input type="text" id="gen-studentid" placeholder="eg. GHTS7099" required>
            </div>
          </div>
          
          <button type="submit" class="btn-generate">
            <i class="fas fa-magic"></i> Generate / Retrieve Password
          </button>
          
          <div class="gen-instruction">
            <strong>How it works:</strong> Enter your full name and student ID. The system will check our records and either generate a new secure password or retrieve your existing credentials. You'll then be able to copy the password and proceed to your dashboard.
          </div>
        </form>
      </div>
      
      <div class="info-box">
        <h3><i class="fas fa-info-circle"></i> System Information</h3>
        <ul>
          <li><i class="fas fa-check-circle"></i> New students will receive a generated system password</li>
          <li><i class="fas fa-check-circle"></i> Existing students receive a generated system password</li>
          <li><i class="fas fa-check-circle"></i> All passwords are securely stored and encrypted</li>
          <li><i class="fas fa-check-circle"></i> Direct dashboard access after password confirmation</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Loading Screen -->
  <div id="loadingOverlay">
    <div class="loading-content">
      <img src="https://img.icons8.com/color/96/000000/student-male.png" alt="Student Login">
      <h2>Welcome, Student!</h2>
      <p>We are preparing your dashboard. Please wait while we redirect you...</p>
      <div class="spinner"></div>
    </div>
  </div>

  <!-- Found-student Modal -->
  <div id="foundStudentModal">
    <div>
      <h3><i class="fas fa-check-circle"></i> Student Found</h3>
      <div id="foundStudentBody">Loading…</div>
      <div class="flex-between">
        <button id="closeFoundModal">&times;</button>
        <button id="foundOkBtn">Continue</button>
      </div>
    </div>
  </div>

  <!-- Generated Password Modal -->
  <div id="generatedPasswordModal">
    <div>
      <div class="modal-header">
        <div class="modal-title-container">
          <div class="modal-icon">GH</div>
          <div>
            <h3 id="genModalTitle" class="modal-title">Your System Password</h3>
            <div class="modal-subtitle">Please copy this password — you'll use it to access your dashboard</div>
          </div>
        </div>
        <button id="closeGenModal">&times;</button>
      </div>

      <div class="password-display-container">
        <div class="password-info">
          <div class="password-label">Generated password for</div>
          <div id="genModalName" class="password-name">Full Name</div>
          <div id="genModalId" class="password-id">Student ID</div>
        </div>
        <div class="password-display">
          <div id="generatedPassword" class="password-value">••••••••</div>
          <div id="genSaveStatus" class="save-status">Not saved</div>
        </div>
      </div>

      <div class="password-actions">
        <button id="copyPasswordBtn">Copy Password</button>
        <button id="usePasswordBtn">Proceed to Dashboard</button>
      </div>

      <div class="modal-footer">
        <strong>Note:</strong> This password incorporates parts of your name and student ID to make it memorable yet secure. Keep it confidential.
      </div>
    </div>
  </div>

  <script>
    // Your existing JavaScript code remains exactly the same
    // Initialize Supabase client so we can check authoritative `students` table
    (function(){
      const script = document.createElement('script');
      script.src = 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js';
      script.onload = () => {
        try{
          const supabaseUrl = 'https://fyriapqeztevzkcaaiqw.supabase.co';
          const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ5cmlhcHFlenRldnprY2FhaXF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTgyNTcsImV4cCI6MjA3OTU3NDI1N30.Re3EZ2VXE6Z7qWhVlxV6yqqIWB8wj1b1wURNLZXpddY';
          window.supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);
        }catch(e){ console.warn('Could not initialize Supabase client', e); }
      };
      document.head.appendChild(script);
    })();

    // Helper: hash password using SHA-256 and return hex
    async function hashPasswordLocal(password){
      if(!password) return null;
      const enc = new TextEncoder();
      const data = enc.encode(password);
      const digest = await crypto.subtle.digest('SHA-256', data);
      const arr = Array.from(new Uint8Array(digest));
      return arr.map(b => b.toString(16).padStart(2,'0')).join('');
    }

    // Password generator form handler
    const genForm = document.getElementById('generate-password-form');
    
    // Generate an 8-character password composed of initials from the
    // student's full name followed by digits from the student ID.
    function generatePasswordFrom(name, id){
      // Use initials (uppercase) + full student id (digits only). No truncation.
      const parts = (name || '').trim().split(/\s+/).filter(Boolean);
      const initials = parts.map(p => (p[0] || '')).join('').toUpperCase();
      const idDigits = String(id || '').replace(/\D/g, '');

      if(initials && idDigits) return initials + idDigits;
      if(initials) return initials;
      if(idDigits) return idDigits;
      return '';
    }

    // Helper: show the existing loading overlay for 5 seconds then redirect
    function showLoadingAndRedirect(url){
      try{
        const ov = document.getElementById('loadingOverlay');
        if(ov){ ov.style.display = 'flex'; }
        // give a tiny delay for UI to update, then navigate after 5s
        setTimeout(()=>{ window.location.href = url; }, 5000);
      }catch(e){ console.warn('Redirect helper failed', e); window.location.href = url; }
    }

    if(genForm){
      genForm.addEventListener('submit', async function(ev){
        ev.preventDefault();
        const full = (document.getElementById('gen-fullname')?.value || '').trim();
        const sid = (document.getElementById('gen-studentid')?.value || '').trim();
        if(!full || !sid){ alert('Please enter both your full name and student ID.'); return; }

        // Wait for Supabase client (if available)
        const waitForSupabase = async () => {
          if(window.supabaseClient) return window.supabaseClient;
          let waited = 0;
          while(!window.supabaseClient && waited < 3000){ await new Promise(r=>setTimeout(r,200)); waited += 200; }
          return window.supabaseClient || null;
        };

        const client = await waitForSupabase();

        let studentRow = null;
        let admitRow = null;

        if(client){
          try{
            const [sRes, nRes] = await Promise.allSettled([
              client.from('students').select('*').eq('student_id', sid).maybeSingle(),
              client.from('newstudents').select('*').eq('student_id', sid).maybeSingle()
            ]);
            if(sRes.status === 'fulfilled' && sRes.value && sRes.value.data) studentRow = sRes.value.data;
            if(nRes.status === 'fulfilled' && nRes.value && nRes.value.data) admitRow = nRes.value.data;
          }catch(e){ console.warn('Lookup error', e); }
        }

        const modal = document.getElementById('generatedPasswordModal');
        if(!modal){ alert('Modal not found'); return; }
        document.getElementById('genModalName').textContent = full;
        document.getElementById('genModalId').textContent = sid;

        const pwdEl = document.getElementById('generatedPassword');
        const statusEl = document.getElementById('genSaveStatus');
        const copyBtn = document.getElementById('copyPasswordBtn');
        const useBtn = document.getElementById('usePasswordBtn');
        const closeBtn = document.getElementById('closeGenModal');

        function closeModal(){ modal.style.display = 'none'; }
        if(closeBtn) closeBtn.onclick = closeModal;

        // New requested behavior:
        // - If student exists in `students` table: generate a password, save it (hashed) to `students`, show it and let student proceed to `dashboard.html`.
        // - Else if student exists in `newstudents` table: treat as new student and redirect to `100dashboard.html`.
        // - Else: show 'not found' modal.

        if (studentRow) {
          // Existing student flow: generate password, persist, then show modal for user to proceed
          const pwd = generatePasswordFrom(full, sid) || (Math.random().toString(36).slice(-8).toUpperCase());
          pwdEl.textContent = pwd;
          if (copyBtn) {
            copyBtn.style.display = '';
            copyBtn.onclick = async function() {
              try { await navigator.clipboard.writeText(pwd); copyBtn.textContent = 'Copied'; copyBtn.classList.add('copied'); setTimeout(()=>{copyBtn.textContent='Copy'; copyBtn.classList.remove('copied');},1400); } catch(e) { alert('Copy failed — use manual copy: ' + pwd); }
            };
          }
          if (statusEl) statusEl.textContent = 'Saving password...';

          // Try to save hashed password to students table
          (async ()=>{
            if(!client){ if(statusEl) statusEl.textContent = 'Supabase not available — password not saved.'; return; }
            try{
              const hashed = await hashPasswordLocal(pwd);
              const { error: updErr } = await client.from('students').update({ password: hashed }).eq('student_id', sid);
              if(updErr){ console.warn('Failed updating student password', updErr); if(statusEl) statusEl.textContent = 'Failed to save password — proceed with caution.'; }
              else { if(statusEl) statusEl.textContent = 'Password saved.'; }
            }catch(err){ console.error('Error saving password for student', err); if(statusEl) statusEl.textContent = 'Save failed — see console.'; }
          })();

          if (useBtn) {
            useBtn.textContent = 'Proceed to Dashboard';
            useBtn.onclick = function(){
              try{
                const s = studentRow;
                const fullName = `${s.firstname || s.first_name || ''}${s.othername ? ' ' + s.othername : ''} ${s.lastname || s.last_name || ''}`.trim();
                localStorage.setItem('student_data', JSON.stringify(s));
                if (s.student_id) localStorage.setItem('studentId', s.student_id);
                if (s.email) localStorage.setItem('studentEmail', s.email);
                if (s.phone) localStorage.setItem('studentPhone', s.phone);
                localStorage.setItem('studentName', fullName);
                localStorage.setItem('studentFirstName', s.firstname || s.first_name || '');
                localStorage.setItem('studentLastName', s.lastname || s.last_name || '');
                localStorage.setItem('studentOtherName', s.othername || '');
                localStorage.setItem('studentDepartment', s.department || '');
                localStorage.setItem('studentLevel', s.level || '');
                localStorage.setItem('studentInfoSaved', '1');
              }catch(e){ console.warn('Could not persist student keys', e); }
              closeModal();
              showLoadingAndRedirect('dashboard.html');
            };
          }
          modal.style.display = 'flex';
          return;
        }

        // If student not in `students` but present in `newstudents`, redirect to 100dashboard
        if (admitRow && !studentRow) {
          try{
            const a = admitRow;
            const fullName = `${a.firstname || a.first_name || ''}${a.othername ? ' ' + a.othername : ''} ${a.lastname || a.last_name || ''}`.trim();
            const normalized = Object.assign({}, a, {
              firstname: a.firstname || a.first_name || '',
              othername: a.othername || '',
              lastname: a.lastname || a.last_name || '',
              student_id: a.student_id || '',
              level: a.level || '100',
              department: a.department || (a.program || ''),
            });
            localStorage.setItem('student_data', JSON.stringify(normalized));
            if(normalized.student_id) localStorage.setItem('studentId', normalized.student_id);
            if(normalized.email) localStorage.setItem('studentEmail', normalized.email);
            if(normalized.phone) localStorage.setItem('studentPhone', normalized.phone);
            localStorage.setItem('studentName', fullName);
            localStorage.setItem('studentFirstName', normalized.firstname || '');
            localStorage.setItem('studentLastName', normalized.lastname || '');
            localStorage.setItem('studentOtherName', normalized.othername || '');
            localStorage.setItem('studentDepartment', normalized.department || '');
            localStorage.setItem('studentLevel', normalized.level || '100');
            localStorage.setItem('isNewStudent', '1');
            localStorage.setItem('studentInfoSaved', '1');
          }catch(e){ console.warn('Could not persist newstudent keys', e); }
          // Direct redirect for newstudents
          showLoadingAndRedirect('100dashboard.html');
          return;
        }

        // Neither found -> show not-found modal
        try {
          const foundModal = document.getElementById('foundStudentModal');
          const foundBody = document.getElementById('foundStudentBody');
          const closeBtnSmall = document.getElementById('closeFoundModal');
          const okBtn = document.getElementById('foundOkBtn');
          if(foundBody) {
            foundBody.innerHTML = `<div><strong>Student not found in our records.</strong></div>
              <div>Please verify your Student ID and Full Name. If you believe this is an error, contact Admissions at <strong>admissions@ghschools.online</strong> or call 0274 622250.</div>`;
          }
          if(closeBtnSmall) closeBtnSmall.onclick = ()=>{ foundModal.style.display = 'none'; };
          if(okBtn) okBtn.onclick = ()=>{ foundModal.style.display = 'none'; };
          if(foundModal) foundModal.style.display = 'flex';
        } catch(e) { alert('Student not found in the database. Please contact support.'); }
        return;
      });
    }

    // Live student identifier check removed per request — student info will no longer be shown as the ID is typed.
  </script>
</body>
</html>